{% extends "@views/base.twig" %}

{% block content %}
  <div class="content-wrapper post-type-{{ post.post_type }}" id="post-{{ post.ID }}">
    <a href="{{post.parent.link|default('/'~ post.post_type)}}">
      <h6>Parent:
        {{ post.parent.title|default('Styleguide') }}</h6>
    </a>
    <h1>{{ post.title }}</h1>
    <hr>

    {{post.content}}

    {% set children = get_posts({
      'post_type': 'styleguide',
      'post_parent': post.ID,
      'posts_per_page': -1,
      'orderby': 'menu_order',
      'order': 'ASC'
		}) %}

    {# if post children #}
    {% if children|length > 0 %}
      <hr>
      <h5>Child Styleguides</h5>
      <ul class="styleguide-children">
        {% for child in children %}
          <li>
            {% include '@views/tease-styleguide.twig' with {post: child } only %}
          </li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endblock %}
